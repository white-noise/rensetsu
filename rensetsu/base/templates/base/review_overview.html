{% extends 'base/base.html' %}

{% block content %}
    <!-- the purpose of this page is to show those which
    were answered incorrectly, and give a card-like view
    of their definitions and readings, as well as an
    opportunity to add them to new groups (e.g., difficult, 
    interesting) before exiting the quiz (which is deleted
    only after a second button is pressed)
     -->
    <h2>
        incorrect responses
    </h2>
    
    <div class="row align-items-center">
        {% for object in review.review_objects.all %}
            {% if not object.is_correct %}
                <div class="col-sm-2 py-2">
                    <h2>
                        {{ object.kanji }}
                    </h2>
                </div>
                {% load shuffle %}
                <div class="col-sm-10 pb-2 border-bottom">
                    <div class="pt-1">
                        {% for option in object.options.all %}
                            {% if option.response_correct %}                           
                                <div class="float-left text-success">
                                    {{ option.possible_response }}
                                </div>
                            {% endif %}
                        {% endfor %}
                        {% for option in object.options.all %}
                            {% if option.response_chosen %}
                                <div class="float-right text-danger">
                                    {{ option.possible_response }}
                                </div>
                            {% endif %}
                        {% endfor %}
                        <div class="clearfix"></div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>

    <h2>
        correct responses
    </h2>

    <div class="row align-items-center">
        {% for object in review.review_objects.all %}
            {% if object.is_correct %}
                <div class="col-sm-2 py-2">
                    <h2>
                        {{ object.kanji }}
                    </h2>
                </div>
                {% load shuffle %}
                <div class="col-sm-10 pb-2 border-bottom">
                {% for option in object.options.all %}
                    {% if option.response_correct %}
                        <div class="pt-1 text-success">   
                            {{ option.possible_response }}
                        </div>
                    {% endif %}
                {% endfor %}
                </div>
            {% endif %}
        {% endfor %}
    </div>

    <a href="{% url 'base:profile' %}">return to profile</a>

{% endblock %}